<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>填写验证码</title>
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="public/css/reset.css" />
		<link rel="stylesheet" href="css/head.css" />
		<link rel="stylesheet" href="css/mobile_keyboard.css" />
		<link rel="stylesheet" href="css/verify_code.css" />
		<script type="text/javascript" src="public/js/public.js" ></script>
	</head>
	<body>
		<!--头部-->
		<header class="bxg-header">
			<a class="bxg-head-icon bxg-back" href="javascript:history.go(-1);"></a>
			填写验证码
			<span class="bxg-head-icon bxg-list"></span>
			<div class="head-list-content">
				<ul>
					<li><a href="" title=""><i class="bxg-collection-icon news-icon"></i>消息<b>5</b></a></li>
					<li><a href="" title=""><i class="bxg-collection-icon index-icon"></i>首页</a></li>
				</ul>
			</div>
		</header>
		<!--内容-->
		<div class="bxg-content">
			
			<div class="bxg-send">正在为您发送到<span>135****5105</span>验证码</div>
				
			<div class="bxg-import bxg-clear"> 
				<input readonly class="pass" type="password" maxlength="1" value="" disabled="disabled">
	            <input readonly class="pass" type="password" maxlength="1" value="" disabled="disabled">
	            <input readonly class="pass" type="password" maxlength="1" value="" disabled="disabled">
	            <input readonly class="pass" type="password" maxlength="1" value="" disabled="disabled">
	            <input readonly class="pass" type="password" maxlength="1" value="" disabled="disabled">
	            <input readonly class="pass" type="password" maxlength="1" value="" disabled="disabled">
			</div>	
			<div class="bxg-verification">
				<button class="code-dtime" disabled="true">0秒</button>
			</div>
			<div class="bxg-logout">
				<a href="set_success.html">下一步</a>
			</div>
		</div>
		<div class="bxg-keyboard"></div>
		<script type="text/javascript" src="public/js/jquery-1.8.3.min.js" ></script>
      	<script type="text/javascript">
      		$(function(){
	      		$(".bxg-list").click(function(){
					$(".head-list-content").toggle();
				});
				//倒计时
				function dtime(obj,time){
					if(time>0){
						time--;
						obj.attr('disabled',true);
						obj.text(time+'秒重新获取');
					}else{
						obj.attr('disabled',false);
						obj.text('重新获取验证码');
						return false;
					}
					setTimeout(function(){
						dtime(obj,time);
					},1000);
				}
				$(".bxg-verification .code-dtime").click(function(){
//					$.ajax({
//						type:"post",
//						data:{},
//						url:"",
//						success:function(){
//						
//						},
//						error:function(){
//							
//						}
//					});
					dtime($(this),20);
				});
//				$.ajax({
//					type:"get",
//					url:"",
//					success:function(){
//						$(".bxg-verification .code-dtime").text(60+'秒重新获取');
						dtime($(".bxg-verification .code-dtime"),10);
						
						
//					},
//					error:function(){
//						
//					}
//				});
				var passwords = $('.bxg-import input');
				var num,index=0;	
				var keyboard = '\
					<div class="keyboard">\
						<ul id="keyboard">\
							<li class="symbol"><span class="off">1</span></li>\
							<li class="symbol"><span class="off">2</span></li>\
							<li class="symbol"><span class="off">3</span></li>\
							<li class="symbol"><span class="off">4</span></li>\
							<li class="symbol"><span class="off">5</span></li>\
							<li class="symbol"><span class="off">6</span></li>\
							<li class="symbol"><span class="off">7</span></li>\
							<li class="symbol"><span class="off">8</span></li>\
							<li class="symbol"><span class="off">9</span></li>\
							<li class="key-delete">删除</li>\
							<li class="symbol"><span class="off">0</span></li>\
							<li class="key-ok">完成</li>\
						</ul>\
					</div>\
				';
				$(".bxg-keyboard").html(keyboard);
				$(".bxg-import").click(function(){
					$(".bxg-keyboard").show();
				});
				$('#keyboard li').click(function(){
					//如果是取消	
					if ($(this).hasClass('key-ok')) {
						$(".bxg-keyboard").hide();
						$("input.pass").val('');
						index = 0;
				        return false;
				    }
					//如果是删除
					if ($(this).hasClass('key-delete')) {
			        	$(passwords.eq([--index%6])).val('');
			        	if($(passwords.eq(0)).val()==''){
			        		index = 0;
			        	}
			            return false;
			        }
					
					if($(this).hasClass('symbol')){
						num = $(this).text();
//						console.log(num);
						$(passwords.eq([index++%6])).val(num);
						
						if($(passwords.eq(5)).val()!=''){
			        		index = 0;
			        		var pass='';
			        		passwords.each(function(){
			        			pass+=$(this).val();
			        		});
//			        		$.ajax({
//			        			type:"post",
//			        			data:{pass:pass},
//			        			url:"",
//			        			success:function(){
//			        				
//			        			},
//			        			error:function(){
//			        				
//			        			}
//			        		});
			        	}
						
					}
					
				});
				
				
				
				
      		});
      	</script>
	</body>
</html>